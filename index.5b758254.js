var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n),n("adAgQ");var r=n("cYe4m"),a=n("i01HW"),c=n("bZlYx");a=n("i01HW"),r=n("cYe4m"),c=n("bZlYx");async function s(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;d.innerHTML="";const t=e.target.textContent,o=new(0,a.TheMovieDb)(t);try{const e=await o.fetchPopularMovies(),t=e.results.map((e=>e.id)),n=(await(0,c.getTheMoviesTargetInfo)(t)).map((e=>(0,r.oneCardMarkup)(e))).join("");document.querySelector(".film-grid").innerHTML=n,l(e)}catch(e){console.log(e)}}const d=document.getElementById("pagination");function l(e){d.innerHTML="";const t=e.total_pages,o=e.page;if(1===o)for(let e=o;e<o+5;e++)d.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);if(o===t)for(let e=o-4;e<o;e++)d.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);else if(o===t-1)for(let e=o-3;e<o+1;e++)d.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);else if(o===t-2)for(let e=o-2;e<o+2;e++)d.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);if(o>=2&&o<=t-3)for(let e=o-1;e<o+4;e++)d.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);const n=document.querySelectorAll(".page-button");for(let t=0;t<n.length;t++)n[t].textContent==e.page&&n[t].classList.add("btn-active");d.addEventListener("click",s)}!async function(){const e=new(0,a.TheMovieDb)(1);try{const t=await e.fetchPopularMovies(),o=t.results.map((e=>e.id)),n=(await(0,c.getTheMoviesTargetInfo)(o)).map((e=>(0,r.oneCardMarkup)(e))).join("");document.querySelector(".film-grid").innerHTML=n,l(t)}catch(e){console.log(e)}}();r=n("cYe4m"),a=n("i01HW"),c=n("bZlYx");var u=n("adAgQ");r=n("cYe4m"),a=n("i01HW"),c=n("bZlYx"),u=n("adAgQ");async function f(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;const t=document.querySelector(".input"),o=e.target.textContent,n=document.querySelector(".film-grid");p.innerHTML="",(0,u.showLoader)();const i=t.value,s=new(0,a.TheMovieDb)(o,i);try{const e=await s.fetchRequestedMovies(),t=e.results.map((e=>e.id)),o=(await(0,c.getTheMoviesTargetInfo)(t)).map((e=>(0,r.oneCardMarkup)(e))).join("");(0,u.hideLoader)(),n.innerHTML=o,b(e)}catch(e){console.log(e)}}const p=document.getElementById("pagination");function b(e){p.innerHTML="";const t=e.total_pages,o=e.page;if(0===t)return;if(1===o)for(let e=o;e<o+5;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);if(o===t)for(let e=o-4;e<o;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);else if(o===t-1)for(let e=o-3;e<o+1;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);else if(o===t-2)for(let e=o-2;e<o+2;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);if(o>=2&&o<=t-3)for(let e=o-1;e<o+4;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`);if(1===t)p.innerHTML="";else if(t>=2&&t<=10){p.innerHTML="";for(let e=1;e<t;e++)p.insertAdjacentHTML("beforeend",`<button class="page-button">${e}</button>`)}const n=document.querySelectorAll(".page-button");for(let t=0;t<n.length;t++)n[t].textContent==e.page&&n[t].classList.add("btn-active");p.addEventListener("click",f)}const m=document.querySelector(".alert");new(0,a.TheMovieDb);document.querySelector(".search-form").addEventListener("submit",(async function(e){e.preventDefault();const t=document.querySelector(".film-grid");p.innerHTML="",(0,u.showLoader)();const o=document.querySelector(".input").value,n=new(0,a.TheMovieDb)(1,o);try{const e=await n.fetchRequestedMovies(),o=e.results;0===o.length&&m.classList.remove("hide-load"),0!==o.length&&m.classList.add("hide-load");const i=o.map((e=>e.id)),a=(await(0,c.getTheMoviesTargetInfo)(i)).map((e=>(0,r.oneCardMarkup)(e))).join("");(0,u.hideLoader)(),t.innerHTML=a,b(e)}catch(e){console.log(e)}})),n("esKCc"),n("8Q213"),n("14EtH");var g,h,v={};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}g="undefined"!=typeof self?self:void 0,h=function(e){e.addBackToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,o=void 0===t?"#000":t,n=e.cornerOffset,r=void 0===n?20:n,i=e.diameter,a=void 0===i?56:i,c=e.ease,s=void 0===c?_:c,d=e.id,l=void 0===d?"back-to-top":d,u=e.innerHTML,f=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,p=e.onClickScrollTo,b=void 0===p?0:p,m=e.scrollContainer,g=void 0===m?document.body:m,h=e.scrollDuration,v=void 0===h?100:h,y=e.showWhenScrollTopIs,T=void 0===y?1:y,M=e.size,w=void 0===M?a:M,L=e.textColor,x=void 0===L?"#fff":L,H=e.zIndex,k=void 0===H?1:H,C=g===document.body,j=C&&document.documentElement;z();var A=N(),S=!0,q=C?window:g;function E(){Y()>=T?$():D()}function $(){S&&(A.className="",S=!1)}function D(){S||(A.className="hidden",S=!0)}function N(){var e=document.createElement("div");return e.id=l,e.className="hidden",e.innerHTML=f,e.addEventListener("click",(function(e){e.preventDefault(),I()})),document.body.appendChild(e),e}function z(){var e=Math.round(.43*w),t=Math.round(.29*w),n="#"+l+"{background:"+o+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+r+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+x+";cursor:pointer;display:block;height:"+w+"px;opacity:1;outline:0;position:fixed;right:"+r+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+w+"px;z-index:"+k+"}#"+l+" svg{display:block;fill:currentColor;height:"+e+"px;margin:"+t+"px auto 0;width:"+e+"px}#"+l+".hidden{bottom:-"+w+"px;opacity:0}",i=document.createElement("style");i.appendChild(document.createTextNode(n)),document.head.insertAdjacentElement("afterbegin",i)}function I(){var e="function"==typeof b?b():b,t=window,o=t.performance,n=t.requestAnimationFrame;if(v<=0||void 0===o||void 0===n)return B(e);var r=o.now(),i=Y(),a=i-e;n((function e(t){var o=Math.min((t-r)/v,1);B(i-Math.round(s(o)*a)),o<1&&n(e)}))}function Y(){return g.scrollTop||j&&document.documentElement.scrollTop||0}function B(e){g.scrollTop=e,j&&(document.documentElement.scrollTop=e)}function _(e){return.5*(1-Math.cos(Math.PI*e))}q.addEventListener("scroll",E),E()}},"function"==typeof define&&define.amd?define(["exports"],h):"object"===y(v)&&"string"!=typeof v.nodeName?h(v):h(g.commonJsStrict={}),(0,v.addBackToTop)({backgroundColor:"#ff6b08",innerHTML:'<svg viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',cornerOffset:10,textColor:"#ffffff"});a=n("i01HW"),r=n("cYe4m"),a=n("i01HW");async function T(e){const t=new(0,a.TheMovieDb);try{const o=await t.fetchGenreList(),n=[];for(i=0;i<e.length;i+=1)n.push(o.find((t=>t.id===e[i])));const r=n.map((e=>e.name)),[a,c,...s]=r;if(r.length>2)return`${a}, ${c}, ...`;if(2===r.length)return`${a}, ${c}`;if(1===r.length)return`${a}`}catch(e){console.log(e)}}!async function(){const e=new(0,a.TheMovieDb)(1);try{const t=(await e.fetchPopularMovies()).results,o=await t.map((async e=>{const t=await T(e.genre_ids),o=await Promise.all(t).then((e=>e));console.log(o);const n=e.title,r=e.release_date;return{posterPath:e.poster_path,title:n,genres:o,releaseData:r,rating:e.vote_average}})),n=await o.map((e=>(0,r.oneCardMarkup)(e))).join("");document.querySelector(".film-grid").insertAdjacentHTML("beforeend",n)}catch(e){console.log(e)}}();
//# sourceMappingURL=index.5b758254.js.map
